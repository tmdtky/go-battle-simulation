# 使用するGoのバージョンを指定
FROM golang:1.18

# 作業ディレクトリを設定。コンテナ内の任意の場所にアプリケーションのディレクトリを作成
WORKDIR /app

# ホストマシンの現在のディレクトリ（プロジェクトルート）の内容をコンテナの作業ディレクトリにコピー
COPY . .

# 必要なモジュールをダウンロード
RUN go mod download

# アプリケーションをビルド
RUN go build -o main .

# コンテナ起動時にアプリケーションを実行
CMD ["./main"]
